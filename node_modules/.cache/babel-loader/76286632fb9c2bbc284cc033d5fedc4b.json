{"ast":null,"code":"import dateValue from '../constant/date';\nvar transitionID = [];\nconst bankLogin = (user, password, captcha) => {\n  let myHeaders = new Headers();\n  myHeaders.append(\"Accept\", \" application/json, text/plain, */*\");\n  myHeaders.append(\"Accept-Encoding\", \" gzip, deflate, br\");\n  myHeaders.append(\"Accept-Language\", \" vi-VN,vi;q=0.9,fr-FR;q=0.8,fr;q=0.7,en-US;q=0.6,en;q=0.5\");\n  myHeaders.append(\"Authorization\", \" Basic RU1CUkVUQUlMV0VCOlNEMjM0ZGZnMzQlI0BGR0AzNHNmc2RmNDU4NDNm\");\n  myHeaders.append(\"Connection\", \" keep-alive\");\n  myHeaders.append(\"Content-Type\", \" application/json; charset=UTF-8\");\n  myHeaders.append(\"Host\", \" online.mbbank.com.vn\");\n  myHeaders.append(\"Origin\", \" https://online.mbbank.com.vn\");\n  myHeaders.append(\"Referer\", \" https://online.mbbank.com.vn/pl/login?logout=1\");\n  let raw = JSON.stringify({\n    \"userId\": user,\n    \"password\": password,\n    \"captcha\": captcha,\n    \"sessionId\": null,\n    \"refNo\": localStorage.getItem('bankId') + '-' + (new Date().getFullYear() + '' + (new Date().getMonth() + 1) + new Date().getDate() + \"\" + new Date().getHours() + \"\" + new Date().getMinutes() + \"\" + \"1124\"),\n    \"deviceIdCommon\": \"gtylt2j2-mbib-0000-0000-\" + (new Date().getFullYear() + '' + (new Date().getMonth() + 1) + new Date().getDate() + \"\" + new Date().getHours() + \"\" + new Date().getMinutes() + \"1124\")\n  });\n  let requestOptions = {\n    method: 'POST',\n    headers: myHeaders,\n    body: raw,\n    redirect: 'follow'\n  };\n  fetch(\"https://online.mbbank.com.vn/retail_web/internetbanking/doLogin\", requestOptions).then(response => response.json()).then(result => {\n    localStorage.setItem('refNo', result.refNo);\n    localStorage.setItem('custId', result.custId);\n    localStorage.setItem('acct_list', JSON.stringify(result.cust.acct_list));\n    localStorage.setItem('sessionId', result.sessionId);\n    localStorage.setItem(\"deviceId\", result.cust.deviceId);\n    localStorage.setItem(\"cust\", JSON.stringify(result.cust));\n    localStorage.setItem('bankUsername', result.cust.nm);\n    localStorage.setItem('bankId', result.cust.userId);\n  }).catch(error => console.log('error', error));\n};\nexport default bankLogin;\n// 48bbd5f5a95477f3053c28b73bce2f20","map":{"version":3,"names":["dateValue","transitionID","bankLogin","user","password","captcha","myHeaders","Headers","append","raw","JSON","stringify","localStorage","getItem","Date","getFullYear","getMonth","getDate","getHours","getMinutes","requestOptions","method","headers","body","redirect","fetch","then","response","json","result","setItem","refNo","custId","cust","acct_list","sessionId","deviceId","nm","userId","catch","error","console","log"],"sources":["C:/Users/789bet/Desktop/MB/src/api/bankLogin.js"],"sourcesContent":["import dateValue from '../constant/date'\r\nvar transitionID = []\r\nconst bankLogin = (user,password,captcha)=>{\r\n    let myHeaders = new Headers();\r\n    myHeaders.append(\"Accept\", \" application/json, text/plain, */*\");\r\n    myHeaders.append(\"Accept-Encoding\", \" gzip, deflate, br\");\r\n    myHeaders.append(\"Accept-Language\", \" vi-VN,vi;q=0.9,fr-FR;q=0.8,fr;q=0.7,en-US;q=0.6,en;q=0.5\");\r\n    myHeaders.append(\"Authorization\", \" Basic RU1CUkVUQUlMV0VCOlNEMjM0ZGZnMzQlI0BGR0AzNHNmc2RmNDU4NDNm\");\r\n    myHeaders.append(\"Connection\", \" keep-alive\");\r\n    myHeaders.append(\"Content-Type\", \" application/json; charset=UTF-8\");\r\n    myHeaders.append(\"Host\", \" online.mbbank.com.vn\");\r\n    myHeaders.append(\"Origin\", \" https://online.mbbank.com.vn\");\r\n    myHeaders.append(\"Referer\", \" https://online.mbbank.com.vn/pl/login?logout=1\");\r\n    \r\n    let raw = JSON.stringify(\r\n        {\r\n            \"userId\": user,\r\n            \"password\": password,\r\n            \"captcha\": captcha,\r\n            \"sessionId\": null,\r\n            \"refNo\": localStorage.getItem('bankId')+'-'+(new Date().getFullYear()+''+(new Date().getMonth()+1)+new Date().getDate()+\"\"+new Date().getHours()+\"\"+new Date().getMinutes()+\"\"+\"1124\"),\r\n            \"deviceIdCommon\": \"gtylt2j2-mbib-0000-0000-\"+(new Date().getFullYear()+''+(new Date().getMonth()+1)+new Date().getDate()+\"\"+new Date().getHours()+\"\"+new Date().getMinutes()+\"1124\")\r\n          }\r\n    )\r\n    \r\n    let requestOptions = {\r\n      method: 'POST',\r\n      headers: myHeaders,\r\n      body: raw,\r\n      redirect: 'follow'\r\n    };\r\n    \r\n    fetch(\"https://online.mbbank.com.vn/retail_web/internetbanking/doLogin\", requestOptions)\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        localStorage.setItem('refNo',result.refNo)\r\n        localStorage.setItem('custId',result.custId)\r\n        localStorage.setItem('acct_list',JSON.stringify(result.cust.acct_list))\r\n        localStorage.setItem('sessionId',result.sessionId)\r\n        localStorage.setItem(\"deviceId\",result.cust.deviceId)\r\n        localStorage.setItem(\"cust\",JSON.stringify(result.cust))\r\n        localStorage.setItem('bankUsername',result.cust.nm)\r\n        localStorage.setItem('bankId',result.cust.userId)\r\n      })\r\n      .catch(error => console.log('error', error));\r\n}\r\n\r\nexport default bankLogin\r\n// 48bbd5f5a95477f3053c28b73bce2f20"],"mappings":"AAAA,OAAOA,SAAS,MAAM,kBAAkB;AACxC,IAAIC,YAAY,GAAG,EAAE;AACrB,MAAMC,SAAS,GAAG,CAACC,IAAI,EAACC,QAAQ,EAACC,OAAO,KAAG;EACvC,IAAIC,SAAS,GAAG,IAAIC,OAAO,EAAE;EAC7BD,SAAS,CAACE,MAAM,CAAC,QAAQ,EAAE,oCAAoC,CAAC;EAChEF,SAAS,CAACE,MAAM,CAAC,iBAAiB,EAAE,oBAAoB,CAAC;EACzDF,SAAS,CAACE,MAAM,CAAC,iBAAiB,EAAE,2DAA2D,CAAC;EAChGF,SAAS,CAACE,MAAM,CAAC,eAAe,EAAE,iEAAiE,CAAC;EACpGF,SAAS,CAACE,MAAM,CAAC,YAAY,EAAE,aAAa,CAAC;EAC7CF,SAAS,CAACE,MAAM,CAAC,cAAc,EAAE,kCAAkC,CAAC;EACpEF,SAAS,CAACE,MAAM,CAAC,MAAM,EAAE,uBAAuB,CAAC;EACjDF,SAAS,CAACE,MAAM,CAAC,QAAQ,EAAE,+BAA+B,CAAC;EAC3DF,SAAS,CAACE,MAAM,CAAC,SAAS,EAAE,iDAAiD,CAAC;EAE9E,IAAIC,GAAG,GAAGC,IAAI,CAACC,SAAS,CACpB;IACI,QAAQ,EAAER,IAAI;IACd,UAAU,EAAEC,QAAQ;IACpB,SAAS,EAAEC,OAAO;IAClB,WAAW,EAAE,IAAI;IACjB,OAAO,EAAEO,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,GAAC,GAAG,IAAE,IAAIC,IAAI,EAAE,CAACC,WAAW,EAAE,GAAC,EAAE,IAAE,IAAID,IAAI,EAAE,CAACE,QAAQ,EAAE,GAAC,CAAC,CAAC,GAAC,IAAIF,IAAI,EAAE,CAACG,OAAO,EAAE,GAAC,EAAE,GAAC,IAAIH,IAAI,EAAE,CAACI,QAAQ,EAAE,GAAC,EAAE,GAAC,IAAIJ,IAAI,EAAE,CAACK,UAAU,EAAE,GAAC,EAAE,GAAC,MAAM,CAAC;IACtL,gBAAgB,EAAE,0BAA0B,IAAE,IAAIL,IAAI,EAAE,CAACC,WAAW,EAAE,GAAC,EAAE,IAAE,IAAID,IAAI,EAAE,CAACE,QAAQ,EAAE,GAAC,CAAC,CAAC,GAAC,IAAIF,IAAI,EAAE,CAACG,OAAO,EAAE,GAAC,EAAE,GAAC,IAAIH,IAAI,EAAE,CAACI,QAAQ,EAAE,GAAC,EAAE,GAAC,IAAIJ,IAAI,EAAE,CAACK,UAAU,EAAE,GAAC,MAAM;EACrL,CAAC,CACN;EAED,IAAIC,cAAc,GAAG;IACnBC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAEhB,SAAS;IAClBiB,IAAI,EAAEd,GAAG;IACTe,QAAQ,EAAE;EACZ,CAAC;EAEDC,KAAK,CAAC,iEAAiE,EAAEL,cAAc,CAAC,CACrFM,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,EAAE,CAAC,CACjCF,IAAI,CAACG,MAAM,IAAI;IACdjB,YAAY,CAACkB,OAAO,CAAC,OAAO,EAACD,MAAM,CAACE,KAAK,CAAC;IAC1CnB,YAAY,CAACkB,OAAO,CAAC,QAAQ,EAACD,MAAM,CAACG,MAAM,CAAC;IAC5CpB,YAAY,CAACkB,OAAO,CAAC,WAAW,EAACpB,IAAI,CAACC,SAAS,CAACkB,MAAM,CAACI,IAAI,CAACC,SAAS,CAAC,CAAC;IACvEtB,YAAY,CAACkB,OAAO,CAAC,WAAW,EAACD,MAAM,CAACM,SAAS,CAAC;IAClDvB,YAAY,CAACkB,OAAO,CAAC,UAAU,EAACD,MAAM,CAACI,IAAI,CAACG,QAAQ,CAAC;IACrDxB,YAAY,CAACkB,OAAO,CAAC,MAAM,EAACpB,IAAI,CAACC,SAAS,CAACkB,MAAM,CAACI,IAAI,CAAC,CAAC;IACxDrB,YAAY,CAACkB,OAAO,CAAC,cAAc,EAACD,MAAM,CAACI,IAAI,CAACI,EAAE,CAAC;IACnDzB,YAAY,CAACkB,OAAO,CAAC,QAAQ,EAACD,MAAM,CAACI,IAAI,CAACK,MAAM,CAAC;EACnD,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAIC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEF,KAAK,CAAC,CAAC;AAClD,CAAC;AAED,eAAetC,SAAS;AACxB"},"metadata":{},"sourceType":"module"}