{"ast":null,"code":"'use strict';\n\nvar utils = require('../utils');\nvar add = require('./add');\nvar parse = require('./parse');\n\n// exported\nvar rules = {\n  ignore: [],\n  watch: []\n};\n\n/**\n * Loads a nodemon config file and populates the ignore\n * and watch rules with it's contents, and calls callback\n * with the new rules\n *\n * @param  {String} filename\n * @param  {Function} callback\n */\nfunction load(filename, callback) {\n  parse(filename, function (err, result) {\n    if (err) {\n      // we should have bombed already, but\n      utils.log.error(err);\n      callback(err);\n    }\n    if (result.raw) {\n      result.raw.forEach(add.bind(null, rules, 'ignore'));\n    } else {\n      result.ignore.forEach(add.bind(null, rules, 'ignore'));\n      result.watch.forEach(add.bind(null, rules, 'watch'));\n    }\n    callback(null, rules);\n  });\n}\nmodule.exports = {\n  reset: function () {\n    // just used for testing\n    rules.ignore.length = rules.watch.length = 0;\n    delete rules.ignore.re;\n    delete rules.watch.re;\n  },\n  load: load,\n  ignore: {\n    test: add.bind(null, rules, 'ignore'),\n    add: add.bind(null, rules, 'ignore')\n  },\n  watch: {\n    test: add.bind(null, rules, 'watch'),\n    add: add.bind(null, rules, 'watch')\n  },\n  add: add.bind(null, rules),\n  rules: rules\n};","map":{"version":3,"names":["utils","require","add","parse","rules","ignore","watch","load","filename","callback","err","result","log","error","raw","forEach","bind","module","exports","reset","length","re","test"],"sources":["C:/Users/789bet/node_modules/nodemon/lib/rules/index.js"],"sourcesContent":["'use strict';\nvar utils = require('../utils');\nvar add = require('./add');\nvar parse = require('./parse');\n\n// exported\nvar rules = { ignore: [], watch: [] };\n\n/**\n * Loads a nodemon config file and populates the ignore\n * and watch rules with it's contents, and calls callback\n * with the new rules\n *\n * @param  {String} filename\n * @param  {Function} callback\n */\nfunction load(filename, callback) {\n  parse(filename, function (err, result) {\n    if (err) {\n      // we should have bombed already, but\n      utils.log.error(err);\n      callback(err);\n    }\n\n    if (result.raw) {\n      result.raw.forEach(add.bind(null, rules, 'ignore'));\n    } else {\n      result.ignore.forEach(add.bind(null, rules, 'ignore'));\n      result.watch.forEach(add.bind(null, rules, 'watch'));\n    }\n\n    callback(null, rules);\n  });\n}\n\nmodule.exports = {\n  reset: function () { // just used for testing\n    rules.ignore.length = rules.watch.length = 0;\n    delete rules.ignore.re;\n    delete rules.watch.re;\n  },\n  load: load,\n  ignore: {\n    test: add.bind(null, rules, 'ignore'),\n    add: add.bind(null, rules, 'ignore'),\n  },\n  watch: {\n    test: add.bind(null, rules, 'watch'),\n    add: add.bind(null, rules, 'watch'),\n  },\n  add: add.bind(null, rules),\n  rules: rules,\n};"],"mappings":"AAAA,YAAY;;AACZ,IAAIA,KAAK,GAAGC,OAAO,CAAC,UAAU,CAAC;AAC/B,IAAIC,GAAG,GAAGD,OAAO,CAAC,OAAO,CAAC;AAC1B,IAAIE,KAAK,GAAGF,OAAO,CAAC,SAAS,CAAC;;AAE9B;AACA,IAAIG,KAAK,GAAG;EAAEC,MAAM,EAAE,EAAE;EAAEC,KAAK,EAAE;AAAG,CAAC;;AAErC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,IAAI,CAACC,QAAQ,EAAEC,QAAQ,EAAE;EAChCN,KAAK,CAACK,QAAQ,EAAE,UAAUE,GAAG,EAAEC,MAAM,EAAE;IACrC,IAAID,GAAG,EAAE;MACP;MACAV,KAAK,CAACY,GAAG,CAACC,KAAK,CAACH,GAAG,CAAC;MACpBD,QAAQ,CAACC,GAAG,CAAC;IACf;IAEA,IAAIC,MAAM,CAACG,GAAG,EAAE;MACdH,MAAM,CAACG,GAAG,CAACC,OAAO,CAACb,GAAG,CAACc,IAAI,CAAC,IAAI,EAAEZ,KAAK,EAAE,QAAQ,CAAC,CAAC;IACrD,CAAC,MAAM;MACLO,MAAM,CAACN,MAAM,CAACU,OAAO,CAACb,GAAG,CAACc,IAAI,CAAC,IAAI,EAAEZ,KAAK,EAAE,QAAQ,CAAC,CAAC;MACtDO,MAAM,CAACL,KAAK,CAACS,OAAO,CAACb,GAAG,CAACc,IAAI,CAAC,IAAI,EAAEZ,KAAK,EAAE,OAAO,CAAC,CAAC;IACtD;IAEAK,QAAQ,CAAC,IAAI,EAAEL,KAAK,CAAC;EACvB,CAAC,CAAC;AACJ;AAEAa,MAAM,CAACC,OAAO,GAAG;EACfC,KAAK,EAAE,YAAY;IAAE;IACnBf,KAAK,CAACC,MAAM,CAACe,MAAM,GAAGhB,KAAK,CAACE,KAAK,CAACc,MAAM,GAAG,CAAC;IAC5C,OAAOhB,KAAK,CAACC,MAAM,CAACgB,EAAE;IACtB,OAAOjB,KAAK,CAACE,KAAK,CAACe,EAAE;EACvB,CAAC;EACDd,IAAI,EAAEA,IAAI;EACVF,MAAM,EAAE;IACNiB,IAAI,EAAEpB,GAAG,CAACc,IAAI,CAAC,IAAI,EAAEZ,KAAK,EAAE,QAAQ,CAAC;IACrCF,GAAG,EAAEA,GAAG,CAACc,IAAI,CAAC,IAAI,EAAEZ,KAAK,EAAE,QAAQ;EACrC,CAAC;EACDE,KAAK,EAAE;IACLgB,IAAI,EAAEpB,GAAG,CAACc,IAAI,CAAC,IAAI,EAAEZ,KAAK,EAAE,OAAO,CAAC;IACpCF,GAAG,EAAEA,GAAG,CAACc,IAAI,CAAC,IAAI,EAAEZ,KAAK,EAAE,OAAO;EACpC,CAAC;EACDF,GAAG,EAAEA,GAAG,CAACc,IAAI,CAAC,IAAI,EAAEZ,KAAK,CAAC;EAC1BA,KAAK,EAAEA;AACT,CAAC"},"metadata":{},"sourceType":"script"}