{"ast":null,"code":"var _s = $RefreshSig$();\nimport { db } from '../middlewares/firebase';\nimport { doc, collection, onSnapshot, addDoc, query, orderBy, deleteDoc, setDoc } from \"firebase/firestore\";\nconst firestoreDb = {\n  dbcreate: async (data, transid) => {\n    try {\n      await addDoc(collection(db, 'new'), {\n        playerId: data.playerid,\n        bankAccount: data.bankacc,\n        bankName: data.bankName,\n        transId: transid,\n        withdrawid: data.withdrawId,\n        mess: data.mess,\n        ammount: data.ammount,\n        created: Timestamp.now()\n      });\n    } catch (err) {\n      alert(err);\n    }\n  },\n  dbread: _s(() => {\n    _s();\n    const [input, setInput] = useState(\"\");\n\n    //GETTINGS LISTS\n    const [lists, setLists] = useState([]);\n    useEffect(() => {\n      const q = query(collection(db, \"new\"), orderBy(\"timestamp\", \"desc\"));\n      const unsubscribe = onSnapshot(q, snapshot => {\n        setLists(snapshot.docs.map(doc => ({\n          ...doc.data(),\n          id: doc.id\n        })));\n        setInput(\"\");\n      });\n      return () => unsubscribe();\n    }, []);\n  }, \"dClfsKzk6SJjF/pRBqQ90zOx8IU=\")\n};\nexport default firestoreDb;","map":{"version":3,"names":["db","doc","collection","onSnapshot","addDoc","query","orderBy","deleteDoc","setDoc","firestoreDb","dbcreate","data","transid","playerId","playerid","bankAccount","bankacc","bankName","transId","withdrawid","withdrawId","mess","ammount","created","Timestamp","now","err","alert","dbread","input","setInput","useState","lists","setLists","useEffect","q","unsubscribe","snapshot","docs","map","id"],"sources":["C:/Users/789bet/Desktop/toolxk/vcb/src/controllers/database.controller.js"],"sourcesContent":["import {db} from '../middlewares/firebase'\r\nimport {doc, collection, onSnapshot, addDoc, query, orderBy, deleteDoc, setDoc} from \"firebase/firestore\";\r\n\r\nconst firestoreDb = {\r\n  dbcreate: async (data,transid) => {\r\n    try {\r\n      await addDoc(collection(db, 'new'), {\r\n        playerId: data.playerid,\r\n        bankAccount: data.bankacc,\r\n        bankName: data.bankName,\r\n        transId: transid,\r\n        withdrawid: data.withdrawId,\r\n        mess: data.mess,\r\n        ammount: data.ammount,\r\n        created: Timestamp.now()\r\n      })\r\n    } catch (err) {\r\n      alert(err)\r\n    }\r\n  },\r\n  dbread: ()=>{\r\n    const [input, setInput] = useState(\"\")\r\n  \r\n    //GETTINGS LISTS\r\n    const [lists, setLists] = useState([])\r\n    useEffect(()=> {\r\n      const q = query(collection(db, \"new\"),  orderBy(\"timestamp\", \"desc\"));\r\n  \r\n      const unsubscribe = onSnapshot(q, (snapshot) => {\r\n        setLists(snapshot.docs.map(doc => ({...doc.data(), id: doc.id})))\r\n        setInput(\"\")\r\n      });\r\n        return () => unsubscribe()\r\n   }, [])   \r\n  }\r\n}\r\nexport default firestoreDb"],"mappings":";AAAA,SAAQA,EAAE,QAAO,yBAAyB;AAC1C,SAAQC,GAAG,EAAEC,UAAU,EAAEC,UAAU,EAAEC,MAAM,EAAEC,KAAK,EAAEC,OAAO,EAAEC,SAAS,EAAEC,MAAM,QAAO,oBAAoB;AAEzG,MAAMC,WAAW,GAAG;EAClBC,QAAQ,EAAE,OAAOC,IAAI,EAACC,OAAO,KAAK;IAChC,IAAI;MACF,MAAMR,MAAM,CAACF,UAAU,CAACF,EAAE,EAAE,KAAK,CAAC,EAAE;QAClCa,QAAQ,EAAEF,IAAI,CAACG,QAAQ;QACvBC,WAAW,EAAEJ,IAAI,CAACK,OAAO;QACzBC,QAAQ,EAAEN,IAAI,CAACM,QAAQ;QACvBC,OAAO,EAAEN,OAAO;QAChBO,UAAU,EAAER,IAAI,CAACS,UAAU;QAC3BC,IAAI,EAAEV,IAAI,CAACU,IAAI;QACfC,OAAO,EAAEX,IAAI,CAACW,OAAO;QACrBC,OAAO,EAAEC,SAAS,CAACC,GAAG;MACxB,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZC,KAAK,CAACD,GAAG,CAAC;IACZ;EACF,CAAC;EACDE,MAAM,KAAE,MAAI;IAAA;IACV,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGC,QAAQ,CAAC,EAAE,CAAC;;IAEtC;IACA,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGF,QAAQ,CAAC,EAAE,CAAC;IACtCG,SAAS,CAAC,MAAK;MACb,MAAMC,CAAC,GAAG9B,KAAK,CAACH,UAAU,CAACF,EAAE,EAAE,KAAK,CAAC,EAAGM,OAAO,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;MAErE,MAAM8B,WAAW,GAAGjC,UAAU,CAACgC,CAAC,EAAGE,QAAQ,IAAK;QAC9CJ,QAAQ,CAACI,QAAQ,CAACC,IAAI,CAACC,GAAG,CAACtC,GAAG,KAAK;UAAC,GAAGA,GAAG,CAACU,IAAI,EAAE;UAAE6B,EAAE,EAAEvC,GAAG,CAACuC;QAAE,CAAC,CAAC,CAAC,CAAC;QACjEV,QAAQ,CAAC,EAAE,CAAC;MACd,CAAC,CAAC;MACA,OAAO,MAAMM,WAAW,EAAE;IAC/B,CAAC,EAAE,EAAE,CAAC;EACP,CAAC;AACH,CAAC;AACD,eAAe3B,WAAW"},"metadata":{},"sourceType":"module"}