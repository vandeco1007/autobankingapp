{"ast":null,"code":"'use strict';\n\nfunction undefsafe(obj, path, value, __res) {\n  // I'm not super keen on this private function, but it's because\n  // it'll also be use in the browser and I wont *one* function exposed\n  function split(path) {\n    var res = [];\n    var level = 0;\n    var key = '';\n    for (var i = 0; i < path.length; i++) {\n      var c = path.substr(i, 1);\n      if (level === 0 && (c === '.' || c === '[')) {\n        if (c === '[') {\n          level++;\n          i++;\n          c = path.substr(i, 1);\n        }\n        if (key) {\n          // the first value could be a string\n          res.push(key);\n        }\n        key = '';\n        continue;\n      }\n      if (c === ']') {\n        level--;\n        key = key.slice(0, -1);\n        continue;\n      }\n      key += c;\n    }\n    res.push(key);\n    return res;\n  }\n\n  // bail if there's nothing\n  if (obj === undefined || obj === null) {\n    return undefined;\n  }\n  var parts = split(path);\n  var key = null;\n  var type = typeof obj;\n  var root = obj;\n  var parent = obj;\n  var star = parts.filter(function (_) {\n    return _ === '*';\n  }).length > 0;\n\n  // we're dealing with a primitive\n  if (type !== 'object' && type !== 'function') {\n    return obj;\n  } else if (path.trim() === '') {\n    return obj;\n  }\n  key = parts[0];\n  var i = 0;\n  for (; i < parts.length; i++) {\n    key = parts[i];\n    parent = obj;\n    if (key === '*') {\n      // loop through each property\n      var prop = '';\n      var res = __res || [];\n      for (prop in parent) {\n        var shallowObj = undefsafe(obj[prop], parts.slice(i + 1).join('.'), value, res);\n        if (shallowObj && shallowObj !== res) {\n          if (value && shallowObj === value || value === undefined) {\n            if (value !== undefined) {\n              return shallowObj;\n            }\n            res.push(shallowObj);\n          }\n        }\n      }\n      if (res.length === 0) {\n        return undefined;\n      }\n      return res;\n    }\n    if (Object.getOwnPropertyNames(obj).indexOf(key) == -1) {\n      return undefined;\n    }\n    obj = obj[key];\n    if (obj === undefined || obj === null) {\n      break;\n    }\n  }\n\n  // if we have a null object, make sure it's the one the user was after,\n  // if it's not (i.e. parts has a length) then give undefined back.\n  if (obj === null && i !== parts.length - 1) {\n    obj = undefined;\n  } else if (!star && value) {\n    key = path.split('.').pop();\n    parent[key] = value;\n  }\n  return obj;\n}\nif (typeof module !== 'undefined') {\n  module.exports = undefsafe;\n}","map":{"version":3,"names":["undefsafe","obj","path","value","__res","split","res","level","key","i","length","c","substr","push","slice","undefined","parts","type","root","parent","star","filter","_","trim","prop","shallowObj","join","Object","getOwnPropertyNames","indexOf","pop","module","exports"],"sources":["C:/Users/789bet/node_modules/undefsafe/lib/undefsafe.js"],"sourcesContent":["'use strict';\n\nfunction undefsafe(obj, path, value, __res) {\n  // I'm not super keen on this private function, but it's because\n  // it'll also be use in the browser and I wont *one* function exposed\n  function split(path) {\n    var res = [];\n    var level = 0;\n    var key = '';\n\n    for (var i = 0; i < path.length; i++) {\n      var c = path.substr(i, 1);\n\n      if (level === 0 && (c === '.' || c === '[')) {\n        if (c === '[') {\n          level++;\n          i++;\n          c = path.substr(i, 1);\n        }\n\n        if (key) {\n          // the first value could be a string\n          res.push(key);\n        }\n        key = '';\n        continue;\n      }\n\n      if (c === ']') {\n        level--;\n        key = key.slice(0, -1);\n        continue;\n      }\n\n      key += c;\n    }\n\n    res.push(key);\n\n    return res;\n  }\n\n  // bail if there's nothing\n  if (obj === undefined || obj === null) {\n    return undefined;\n  }\n\n  var parts = split(path);\n  var key = null;\n  var type = typeof obj;\n  var root = obj;\n  var parent = obj;\n\n  var star =\n    parts.filter(function(_) {\n      return _ === '*';\n    }).length > 0;\n\n  // we're dealing with a primitive\n  if (type !== 'object' && type !== 'function') {\n    return obj;\n  } else if (path.trim() === '') {\n    return obj;\n  }\n\n  key = parts[0];\n  var i = 0;\n  for (; i < parts.length; i++) {\n    key = parts[i];\n    parent = obj;\n\n    if (key === '*') {\n      // loop through each property\n      var prop = '';\n      var res = __res || [];\n\n      for (prop in parent) {\n        var shallowObj = undefsafe(\n          obj[prop],\n          parts.slice(i + 1).join('.'),\n          value,\n          res\n        );\n        if (shallowObj && shallowObj !== res) {\n          if ((value && shallowObj === value) || value === undefined) {\n            if (value !== undefined) {\n              return shallowObj;\n            }\n\n            res.push(shallowObj);\n          }\n        }\n      }\n\n      if (res.length === 0) {\n        return undefined;\n      }\n\n      return res;\n    }\n\n    if (Object.getOwnPropertyNames(obj).indexOf(key) == -1) {\n      return undefined;\n    }\n\n    obj = obj[key];\n    if (obj === undefined || obj === null) {\n      break;\n    }\n  }\n\n  // if we have a null object, make sure it's the one the user was after,\n  // if it's not (i.e. parts has a length) then give undefined back.\n  if (obj === null && i !== parts.length - 1) {\n    obj = undefined;\n  } else if (!star && value) {\n    key = path.split('.').pop();\n    parent[key] = value;\n  }\n  return obj;\n}\n\nif (typeof module !== 'undefined') {\n  module.exports = undefsafe;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}