{"ast":null,"code":"import dateValue from'../constant/date';var transitionID=[];var bankLogin=function bankLogin(user,password,captcha){var myHeaders=new Headers();myHeaders.append(\"Accept\",\" application/json\");myHeaders.append(\"Accept-Language\",\" vi\");myHeaders.append(\"Content-Type\",\" application/json\");myHeaders.append(\"Referer\",\" https://vcbdigibank.vietcombank.com.vn/\");myHeaders.append(\"sec-ch-ua\",\" \\\"Chromium\\\";v=\\\"106\\\", \\\"Google Chrome\\\";v=\\\"106\\\", \\\"Not;A=Brand\\\";v=\\\"99\\\"\");myHeaders.append(\"sec-ch-ua-mobile\",\" ?0\");myHeaders.append(\"sec-ch-ua-platform\",\" \\\"Windows\\\"\");myHeaders.append(\"User-Agent\",\" Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36\");myHeaders.append(\"X-Channel\",\" Web\");myHeaders.append(\"X-Request-ID\",\" 166563358677041\");myHeaders.append(\"Cookie\",\"TS01388157=011fc56c7656302927913af31e4c717c14b49aaad8a16d79f0d08b6139fa3f6eb236b6ab95ced8701036f05518b20a012bb9ebc7df\");var raw=JSON.stringify({\"DT\":\"Windows\",\"PM\":\"Chrome 106.0.0.0\",\"OV\":\"10\",\"lang\":\"vi\",\"user\":user,\"password\":password,\"captchaToken\":\"a7f6fff3-22a6-e718-8ff8-ce3da2e463a8\",\"captchaValue\":captcha,\"checkAcctPkg\":\"1\",\"mid\":6});var requestOptions={method:'POST',headers:myHeaders,body:raw,redirect:'follow'};fetch(\"https://digiapp.vietcombank.com.vn/authen-service/v1/login\",requestOptions).then(function(response){return response.json();}).then(function(result){console.log(result);if(result.code!='00'){alert(result.des);localStorage.setItem('sessionId',\"waiting for Log in\");localStorage.setItem('userInfo','{\"cusName\":\"Vui Lòng Đăng Nhập Lại\"}');window.location.reload();}else{localStorage.setItem('sessionId',result.sessionId);localStorage.setItem('userInfo',JSON.stringify(result.userInfo));setTimeout(function(){window.location.reload();},1000);}}).catch(function(error){return console.log('error',error);});};export default bankLogin;","map":{"version":3,"names":["dateValue","transitionID","bankLogin","user","password","captcha","myHeaders","Headers","append","raw","JSON","stringify","requestOptions","method","headers","body","redirect","fetch","then","response","json","result","console","log","code","alert","des","localStorage","setItem","window","location","reload","sessionId","userInfo","setTimeout","catch","error"],"sources":["C:/Users/789bet/Desktop/vcb/src/api/bankLogin.js"],"sourcesContent":["import dateValue from '../constant/date'\r\nvar transitionID = []\r\nconst bankLogin = (user,password,captcha)=>{\r\n    let myHeaders = new Headers();\r\n    myHeaders.append(\"Accept\", \" application/json\");\r\n    myHeaders.append(\"Accept-Language\", \" vi\");\r\n    myHeaders.append(\"Content-Type\", \" application/json\");\r\n    myHeaders.append(\"Referer\", \" https://vcbdigibank.vietcombank.com.vn/\");\r\n    myHeaders.append(\"sec-ch-ua\", \" \\\"Chromium\\\";v=\\\"106\\\", \\\"Google Chrome\\\";v=\\\"106\\\", \\\"Not;A=Brand\\\";v=\\\"99\\\"\");\r\n    myHeaders.append(\"sec-ch-ua-mobile\", \" ?0\");\r\n    myHeaders.append(\"sec-ch-ua-platform\", \" \\\"Windows\\\"\");\r\n    myHeaders.append(\"User-Agent\", \" Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36\");\r\n    myHeaders.append(\"X-Channel\", \" Web\");\r\n    myHeaders.append(\"X-Request-ID\", \" 166563358677041\");\r\n    myHeaders.append(\"Cookie\", \"TS01388157=011fc56c7656302927913af31e4c717c14b49aaad8a16d79f0d08b6139fa3f6eb236b6ab95ced8701036f05518b20a012bb9ebc7df\");\r\n    \r\n    let raw = JSON.stringify(\r\n        {\r\n            \"DT\": \"Windows\",\r\n            \"PM\": \"Chrome 106.0.0.0\",\r\n            \"OV\": \"10\",\r\n            \"lang\": \"vi\",\r\n            \"user\": user,\r\n            \"password\": password,\r\n            \"captchaToken\": \"a7f6fff3-22a6-e718-8ff8-ce3da2e463a8\",\r\n            \"captchaValue\": captcha,\r\n            \"checkAcctPkg\": \"1\",\r\n            \"mid\": 6\r\n          }\r\n    ); \r\n    \r\n    let requestOptions = {\r\n      method: 'POST',\r\n      headers: myHeaders,\r\n      body: raw,\r\n      redirect: 'follow'\r\n    };\r\n    \r\n    fetch(\"https://digiapp.vietcombank.com.vn/authen-service/v1/login\", requestOptions)\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        console.log(result)\r\n        if(result.code!='00'){\r\n          alert(result.des)\r\n          localStorage.setItem('sessionId',\"waiting for Log in\")\r\n          localStorage.setItem('userInfo','{\"cusName\":\"Vui Lòng Đăng Nhập Lại\"}')\r\n          window.location.reload()\r\n        }else{\r\n          localStorage.setItem('sessionId',result.sessionId)\r\n          localStorage.setItem('userInfo',JSON.stringify(result.userInfo))\r\n          setTimeout(function(){\r\n            window.location.reload()\r\n          },1000)\r\n        }\r\n    })\r\n      .catch(error => console.log('error', error));\r\n}\r\n\r\nexport default bankLogin"],"mappings":"AAAA,MAAOA,UAAS,KAAM,kBAAkB,CACxC,GAAIC,aAAY,CAAG,EAAE,CACrB,GAAMC,UAAS,CAAG,QAAZA,UAAS,CAAIC,IAAI,CAACC,QAAQ,CAACC,OAAO,CAAG,CACvC,GAAIC,UAAS,CAAG,GAAIC,QAAO,EAAE,CAC7BD,SAAS,CAACE,MAAM,CAAC,QAAQ,CAAE,mBAAmB,CAAC,CAC/CF,SAAS,CAACE,MAAM,CAAC,iBAAiB,CAAE,KAAK,CAAC,CAC1CF,SAAS,CAACE,MAAM,CAAC,cAAc,CAAE,mBAAmB,CAAC,CACrDF,SAAS,CAACE,MAAM,CAAC,SAAS,CAAE,0CAA0C,CAAC,CACvEF,SAAS,CAACE,MAAM,CAAC,WAAW,CAAE,gFAAgF,CAAC,CAC/GF,SAAS,CAACE,MAAM,CAAC,kBAAkB,CAAE,KAAK,CAAC,CAC3CF,SAAS,CAACE,MAAM,CAAC,oBAAoB,CAAE,cAAc,CAAC,CACtDF,SAAS,CAACE,MAAM,CAAC,YAAY,CAAE,kHAAkH,CAAC,CAClJF,SAAS,CAACE,MAAM,CAAC,WAAW,CAAE,MAAM,CAAC,CACrCF,SAAS,CAACE,MAAM,CAAC,cAAc,CAAE,kBAAkB,CAAC,CACpDF,SAAS,CAACE,MAAM,CAAC,QAAQ,CAAE,uHAAuH,CAAC,CAEnJ,GAAIC,IAAG,CAAGC,IAAI,CAACC,SAAS,CACpB,CACI,IAAI,CAAE,SAAS,CACf,IAAI,CAAE,kBAAkB,CACxB,IAAI,CAAE,IAAI,CACV,MAAM,CAAE,IAAI,CACZ,MAAM,CAAER,IAAI,CACZ,UAAU,CAAEC,QAAQ,CACpB,cAAc,CAAE,sCAAsC,CACtD,cAAc,CAAEC,OAAO,CACvB,cAAc,CAAE,GAAG,CACnB,KAAK,CAAE,CACT,CAAC,CACN,CAED,GAAIO,eAAc,CAAG,CACnBC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAER,SAAS,CAClBS,IAAI,CAAEN,GAAG,CACTO,QAAQ,CAAE,QACZ,CAAC,CAEDC,KAAK,CAAC,4DAA4D,CAAEL,cAAc,CAAC,CAChFM,IAAI,CAAC,SAAAC,QAAQ,QAAIA,SAAQ,CAACC,IAAI,EAAE,GAAC,CACjCF,IAAI,CAAC,SAAAG,MAAM,CAAI,CACdC,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC,CACnB,GAAGA,MAAM,CAACG,IAAI,EAAE,IAAI,CAAC,CACnBC,KAAK,CAACJ,MAAM,CAACK,GAAG,CAAC,CACjBC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,oBAAoB,CAAC,CACtDD,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,sCAAsC,CAAC,CACvEC,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE,CAC1B,CAAC,IAAI,CACHJ,YAAY,CAACC,OAAO,CAAC,WAAW,CAACP,MAAM,CAACW,SAAS,CAAC,CAClDL,YAAY,CAACC,OAAO,CAAC,UAAU,CAAClB,IAAI,CAACC,SAAS,CAACU,MAAM,CAACY,QAAQ,CAAC,CAAC,CAChEC,UAAU,CAAC,UAAU,CACnBL,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE,CAC1B,CAAC,CAAC,IAAI,CAAC,CACT,CACJ,CAAC,CAAC,CACCI,KAAK,CAAC,SAAAC,KAAK,QAAId,QAAO,CAACC,GAAG,CAAC,OAAO,CAAEa,KAAK,CAAC,GAAC,CAClD,CAAC,CAED,cAAelC,UAAS"},"metadata":{},"sourceType":"module"}