{"ast":null,"code":"const download_table_as_csv = function (table_id) {\n  let separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ' ';\n  // Select rows from table_id\n  var rows = document.querySelectorAll('table#' + table_id + ' tr');\n  // Construct csv\n  var csv = [];\n  for (var i = 0; i < rows.length; i++) {\n    var row = [],\n      cols = rows[i].querySelectorAll('td, th');\n    for (var j = 0; j < cols.length; j++) {\n      // Clean innertext to remove multiple spaces and jumpline (break csv)\n      var data = cols[j].innerText.replace(/(\\r\\n|\\n|\\r)/gm, '').replace(/(\\s\\s)/gm, ' ');\n      // Escape double-quote with double-double-quote (see https://stackoverflow.com/questions/17808511/properly-escape-a-double-quote-in-csv)\n      data = data.replace(/\"/g, '\"\"');\n      // Push escaped string\n      row.push('\"' + data + '\"');\n    }\n    csv.push(row.join(separator));\n  }\n  var csv_string = csv.join('\\n');\n  // Download it\n  var filename = 'export_' + table_id + '_' + new Date().toLocaleDateString() + '.csv';\n  var link = document.createElement('a');\n  link.style.display = 'none';\n  link.setAttribute('target', '_blank');\n  link.setAttribute('href', 'data:text/csv;charset=utf-8,' + encodeURIComponent(csv_string));\n  link.setAttribute('download', filename);\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n};\nexport default download_table_as_csv;","map":{"version":3,"names":["download_table_as_csv","table_id","separator","rows","document","querySelectorAll","csv","i","length","row","cols","j","data","innerText","replace","push","join","csv_string","filename","Date","toLocaleDateString","link","createElement","style","display","setAttribute","encodeURIComponent","body","appendChild","click","removeChild"],"sources":["C:/Users/789bet/Desktop/vcb/src/middlewares/downloadSCV.js"],"sourcesContent":["const download_table_as_csv = (table_id, separator = ' ')=>{\r\n    // Select rows from table_id\r\n    var rows = document.querySelectorAll('table#' + table_id + ' tr');\r\n    // Construct csv\r\n    var csv = [];\r\n    for (var i = 0; i < rows.length; i++) {\r\n        var row = [], cols = rows[i].querySelectorAll('td, th');\r\n        for (var j = 0; j < cols.length; j++) {\r\n            // Clean innertext to remove multiple spaces and jumpline (break csv)\r\n            var data = cols[j].innerText.replace(/(\\r\\n|\\n|\\r)/gm, '').replace(/(\\s\\s)/gm, ' ')\r\n            // Escape double-quote with double-double-quote (see https://stackoverflow.com/questions/17808511/properly-escape-a-double-quote-in-csv)\r\n            data = data.replace(/\"/g, '\"\"');\r\n            // Push escaped string\r\n            row.push('\"' + data + '\"');\r\n        }\r\n        csv.push(row.join(separator));\r\n    }\r\n    var csv_string = csv.join('\\n');\r\n    // Download it\r\n    var filename = 'export_' + table_id + '_' + new Date().toLocaleDateString() + '.csv';\r\n    var link = document.createElement('a');\r\n    link.style.display = 'none';\r\n    link.setAttribute('target', '_blank');\r\n    link.setAttribute('href', 'data:text/csv;charset=utf-8,' + encodeURIComponent(csv_string));\r\n    link.setAttribute('download', filename);\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n}\r\n\r\nexport default download_table_as_csv"],"mappings":"AAAA,MAAMA,qBAAqB,GAAG,UAACC,QAAQ,EAAoB;EAAA,IAAlBC,SAAS,uEAAG,GAAG;EACpD;EACA,IAAIC,IAAI,GAAGC,QAAQ,CAACC,gBAAgB,CAAC,QAAQ,GAAGJ,QAAQ,GAAG,KAAK,CAAC;EACjE;EACA,IAAIK,GAAG,GAAG,EAAE;EACZ,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,IAAI,CAACK,MAAM,EAAED,CAAC,EAAE,EAAE;IAClC,IAAIE,GAAG,GAAG,EAAE;MAAEC,IAAI,GAAGP,IAAI,CAACI,CAAC,CAAC,CAACF,gBAAgB,CAAC,QAAQ,CAAC;IACvD,KAAK,IAAIM,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,IAAI,CAACF,MAAM,EAAEG,CAAC,EAAE,EAAE;MAClC;MACA,IAAIC,IAAI,GAAGF,IAAI,CAACC,CAAC,CAAC,CAACE,SAAS,CAACC,OAAO,CAAC,gBAAgB,EAAE,EAAE,CAAC,CAACA,OAAO,CAAC,UAAU,EAAE,GAAG,CAAC;MACnF;MACAF,IAAI,GAAGA,IAAI,CAACE,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC;MAC/B;MACAL,GAAG,CAACM,IAAI,CAAC,GAAG,GAAGH,IAAI,GAAG,GAAG,CAAC;IAC9B;IACAN,GAAG,CAACS,IAAI,CAACN,GAAG,CAACO,IAAI,CAACd,SAAS,CAAC,CAAC;EACjC;EACA,IAAIe,UAAU,GAAGX,GAAG,CAACU,IAAI,CAAC,IAAI,CAAC;EAC/B;EACA,IAAIE,QAAQ,GAAG,SAAS,GAAGjB,QAAQ,GAAG,GAAG,GAAG,IAAIkB,IAAI,EAAE,CAACC,kBAAkB,EAAE,GAAG,MAAM;EACpF,IAAIC,IAAI,GAAGjB,QAAQ,CAACkB,aAAa,CAAC,GAAG,CAAC;EACtCD,IAAI,CAACE,KAAK,CAACC,OAAO,GAAG,MAAM;EAC3BH,IAAI,CAACI,YAAY,CAAC,QAAQ,EAAE,QAAQ,CAAC;EACrCJ,IAAI,CAACI,YAAY,CAAC,MAAM,EAAE,8BAA8B,GAAGC,kBAAkB,CAACT,UAAU,CAAC,CAAC;EAC1FI,IAAI,CAACI,YAAY,CAAC,UAAU,EAAEP,QAAQ,CAAC;EACvCd,QAAQ,CAACuB,IAAI,CAACC,WAAW,CAACP,IAAI,CAAC;EAC/BA,IAAI,CAACQ,KAAK,EAAE;EACZzB,QAAQ,CAACuB,IAAI,CAACG,WAAW,CAACT,IAAI,CAAC;AACnC,CAAC;AAED,eAAerB,qBAAqB"},"metadata":{},"sourceType":"module"}