{"ast":null,"code":"import dateValue from '../constant/date';\nvar transitionID = [];\nconst bankLogin = (user, password, captcha) => {\n  let myHeaders = new Headers();\n  myHeaders.append(\"Accept\", \" application/json\");\n  myHeaders.append(\"Accept-Language\", \" vi\");\n  myHeaders.append(\"Content-Type\", \" application/json\");\n  myHeaders.append(\"Referer\", \" https://vcbdigibank.vietcombank.com.vn/\");\n  myHeaders.append(\"sec-ch-ua\", \" \\\"Chromium\\\";v=\\\"106\\\", \\\"Google Chrome\\\";v=\\\"106\\\", \\\"Not;A=Brand\\\";v=\\\"99\\\"\");\n  myHeaders.append(\"sec-ch-ua-mobile\", \" ?0\");\n  myHeaders.append(\"sec-ch-ua-platform\", \" \\\"Windows\\\"\");\n  myHeaders.append(\"User-Agent\", \" Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36\");\n  myHeaders.append(\"X-Channel\", \" Web\");\n  myHeaders.append(\"X-Request-ID\", \" 166563358677041\");\n  myHeaders.append(\"Cookie\", \"TS01388157=011fc56c7656302927913af31e4c717c14b49aaad8a16d79f0d08b6139fa3f6eb236b6ab95ced8701036f05518b20a012bb9ebc7df\");\n  let raw = JSON.stringify({\n    \"DT\": \"Windows\",\n    \"PM\": \"Chrome 106.0.0.0\",\n    \"OV\": \"10\",\n    \"lang\": \"vi\",\n    \"user\": user,\n    \"password\": password,\n    \"captchaToken\": \"a7f6fff3-22a6-e718-8ff8-ce3da2e463a8\",\n    \"captchaValue\": captcha,\n    \"checkAcctPkg\": \"1\",\n    \"mid\": 6\n  });\n  let requestOptions = {\n    method: 'POST',\n    headers: myHeaders,\n    body: raw,\n    redirect: 'follow'\n  };\n  fetch(\"https://digiapp.vietcombank.com.vn/authen-service/v1/login\", requestOptions).then(response => response.json()).then(result => {\n    console.log(result);\n    if (result.code != '00') {\n      alert(result.des);\n      localStorage.setItem('sessionId', \"waiting for Log in\");\n      localStorage.setItem('userInfo', '{\"cusName\":\"Vui Lòng Đăng Nhập Lại\"}');\n    } else {\n      localStorage.setItem('sessionId', result.sessionId);\n      localStorage.setItem('userInfo', JSON.stringify(result.userInfo));\n      setTimeout(function () {\n        window.location.reload();\n      }, 1000);\n    }\n  }).catch(error => console.log('error', error));\n};\nexport default bankLogin;","map":{"version":3,"names":["dateValue","transitionID","bankLogin","user","password","captcha","myHeaders","Headers","append","raw","JSON","stringify","requestOptions","method","headers","body","redirect","fetch","then","response","json","result","console","log","code","alert","des","localStorage","setItem","sessionId","userInfo","setTimeout","window","location","reload","catch","error"],"sources":["C:/Users/789bet/Desktop/toolxk/vcb/src/api/bankLogin.js"],"sourcesContent":["import dateValue from '../constant/date'\r\nvar transitionID = []\r\nconst bankLogin = (user,password,captcha)=>{\r\n    let myHeaders = new Headers();\r\n    myHeaders.append(\"Accept\", \" application/json\");\r\n    myHeaders.append(\"Accept-Language\", \" vi\");\r\n    myHeaders.append(\"Content-Type\", \" application/json\");\r\n    myHeaders.append(\"Referer\", \" https://vcbdigibank.vietcombank.com.vn/\");\r\n    myHeaders.append(\"sec-ch-ua\", \" \\\"Chromium\\\";v=\\\"106\\\", \\\"Google Chrome\\\";v=\\\"106\\\", \\\"Not;A=Brand\\\";v=\\\"99\\\"\");\r\n    myHeaders.append(\"sec-ch-ua-mobile\", \" ?0\");\r\n    myHeaders.append(\"sec-ch-ua-platform\", \" \\\"Windows\\\"\");\r\n    myHeaders.append(\"User-Agent\", \" Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36\");\r\n    myHeaders.append(\"X-Channel\", \" Web\");\r\n    myHeaders.append(\"X-Request-ID\", \" 166563358677041\");\r\n    myHeaders.append(\"Cookie\", \"TS01388157=011fc56c7656302927913af31e4c717c14b49aaad8a16d79f0d08b6139fa3f6eb236b6ab95ced8701036f05518b20a012bb9ebc7df\");\r\n    \r\n    let raw = JSON.stringify(\r\n        {\r\n            \"DT\": \"Windows\",\r\n            \"PM\": \"Chrome 106.0.0.0\",\r\n            \"OV\": \"10\",\r\n            \"lang\": \"vi\",\r\n            \"user\": user,\r\n            \"password\": password,\r\n            \"captchaToken\": \"a7f6fff3-22a6-e718-8ff8-ce3da2e463a8\",\r\n            \"captchaValue\": captcha,\r\n            \"checkAcctPkg\": \"1\",\r\n            \"mid\": 6\r\n          }\r\n    ); \r\n    \r\n    let requestOptions = {\r\n      method: 'POST',\r\n      headers: myHeaders,\r\n      body: raw,\r\n      redirect: 'follow'\r\n    };\r\n    \r\n    fetch(\"https://digiapp.vietcombank.com.vn/authen-service/v1/login\", requestOptions)\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        console.log(result)\r\n        if(result.code!='00'){\r\n          alert(result.des)\r\n          localStorage.setItem('sessionId',\"waiting for Log in\")\r\n          localStorage.setItem('userInfo','{\"cusName\":\"Vui Lòng Đăng Nhập Lại\"}')\r\n        }else{\r\n          localStorage.setItem('sessionId',result.sessionId)\r\n          localStorage.setItem('userInfo',JSON.stringify(result.userInfo))\r\n          setTimeout(function(){\r\n            window.location.reload()\r\n          },1000)\r\n        }\r\n    })\r\n      .catch(error => console.log('error', error));\r\n}\r\n\r\nexport default bankLogin"],"mappings":"AAAA,OAAOA,SAAS,MAAM,kBAAkB;AACxC,IAAIC,YAAY,GAAG,EAAE;AACrB,MAAMC,SAAS,GAAG,CAACC,IAAI,EAACC,QAAQ,EAACC,OAAO,KAAG;EACvC,IAAIC,SAAS,GAAG,IAAIC,OAAO,EAAE;EAC7BD,SAAS,CAACE,MAAM,CAAC,QAAQ,EAAE,mBAAmB,CAAC;EAC/CF,SAAS,CAACE,MAAM,CAAC,iBAAiB,EAAE,KAAK,CAAC;EAC1CF,SAAS,CAACE,MAAM,CAAC,cAAc,EAAE,mBAAmB,CAAC;EACrDF,SAAS,CAACE,MAAM,CAAC,SAAS,EAAE,0CAA0C,CAAC;EACvEF,SAAS,CAACE,MAAM,CAAC,WAAW,EAAE,gFAAgF,CAAC;EAC/GF,SAAS,CAACE,MAAM,CAAC,kBAAkB,EAAE,KAAK,CAAC;EAC3CF,SAAS,CAACE,MAAM,CAAC,oBAAoB,EAAE,cAAc,CAAC;EACtDF,SAAS,CAACE,MAAM,CAAC,YAAY,EAAE,kHAAkH,CAAC;EAClJF,SAAS,CAACE,MAAM,CAAC,WAAW,EAAE,MAAM,CAAC;EACrCF,SAAS,CAACE,MAAM,CAAC,cAAc,EAAE,kBAAkB,CAAC;EACpDF,SAAS,CAACE,MAAM,CAAC,QAAQ,EAAE,uHAAuH,CAAC;EAEnJ,IAAIC,GAAG,GAAGC,IAAI,CAACC,SAAS,CACpB;IACI,IAAI,EAAE,SAAS;IACf,IAAI,EAAE,kBAAkB;IACxB,IAAI,EAAE,IAAI;IACV,MAAM,EAAE,IAAI;IACZ,MAAM,EAAER,IAAI;IACZ,UAAU,EAAEC,QAAQ;IACpB,cAAc,EAAE,sCAAsC;IACtD,cAAc,EAAEC,OAAO;IACvB,cAAc,EAAE,GAAG;IACnB,KAAK,EAAE;EACT,CAAC,CACN;EAED,IAAIO,cAAc,GAAG;IACnBC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAER,SAAS;IAClBS,IAAI,EAAEN,GAAG;IACTO,QAAQ,EAAE;EACZ,CAAC;EAEDC,KAAK,CAAC,4DAA4D,EAAEL,cAAc,CAAC,CAChFM,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,EAAE,CAAC,CACjCF,IAAI,CAACG,MAAM,IAAI;IACdC,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC;IACnB,IAAGA,MAAM,CAACG,IAAI,IAAE,IAAI,EAAC;MACnBC,KAAK,CAACJ,MAAM,CAACK,GAAG,CAAC;MACjBC,YAAY,CAACC,OAAO,CAAC,WAAW,EAAC,oBAAoB,CAAC;MACtDD,YAAY,CAACC,OAAO,CAAC,UAAU,EAAC,sCAAsC,CAAC;IACzE,CAAC,MAAI;MACHD,YAAY,CAACC,OAAO,CAAC,WAAW,EAACP,MAAM,CAACQ,SAAS,CAAC;MAClDF,YAAY,CAACC,OAAO,CAAC,UAAU,EAAClB,IAAI,CAACC,SAAS,CAACU,MAAM,CAACS,QAAQ,CAAC,CAAC;MAChEC,UAAU,CAAC,YAAU;QACnBC,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;MAC1B,CAAC,EAAC,IAAI,CAAC;IACT;EACJ,CAAC,CAAC,CACCC,KAAK,CAACC,KAAK,IAAId,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEa,KAAK,CAAC,CAAC;AAClD,CAAC;AAED,eAAelC,SAAS"},"metadata":{},"sourceType":"module"}