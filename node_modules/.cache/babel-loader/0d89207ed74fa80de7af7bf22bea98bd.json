{"ast":null,"code":"const getHistory = (startTime, endTime, playerId) => {\n  let url = [];\n  let myHeaders = new Headers();\n  myHeaders.append(\"accept\", \" */*\");\n  myHeaders.append(\"accept-encoding\", \" gzip, deflate, br\");\n  myHeaders.append(\"authorization\", localStorage.getItem('token'));\n  myHeaders.append(\"origin\", \" https://bo.jun88.bet\");\n  myHeaders.append(\"referer\", \" https://bo.jun88.bet/\");\n  myHeaders.append(\"Cookie\", \"__cf_bm=eRN8pUNPav1TR9mYCn51uVAev2F2uFlVAz.7869Bo.k-1665682812-0-AZouNqKJFI125f1jlLoD4aT09ABUKzvjNDQa0JJDpyr9Rn7rmSa4oQvWG6kLxuRUj9neqrot9qSSAA1QSrJ6NIs=\");\n  let requestOptions = {\n    method: 'GET',\n    headers: myHeaders,\n    redirect: 'follow'\n  };\n  if (playerId == '') {\n    url[0] = 'https://boapi.jun88.bet/jun88-ims/api/v1/withdrawals/search?&starttime=' + startTime + '&endtime=' + endTime + '&dl=false&exactmatch=true&limit=25&sort=DESC&sortcolumn=withdrawaltime&statusType=WITHDRAWAL_RECORD&timefilter=withdrawaltime&zoneType=ASIA_SHANGHAI&auditor=jun88996';\n  }\n  fetch(url[0], requestOptions).then(response => response.json()).then(result => {\n    document.getElementsByClassName('tableData')[0].innerHTML = '';\n    result.data.forEach(element => {\n      console.log(element);\n      let dataTable = document.getElementsByClassName('tableData')[0];\n      let tableTr = document.createElement('tr');\n      dataTable.appendChild(tableTr);\n      let playerId = document.createElement('td');\n      let playerIdCont = document.createTextNode(element.playerid);\n      playerId.appendChild(playerIdCont);\n      tableTr.appendChild(playerId);\n      let bankAcc = document.createElement('td');\n      let bankAccNum = document.createTextNode(element.bankaccount);\n      bankAcc.appendChild(bankAccNum);\n      tableTr.appendChild(bankAcc);\n      let bank = document.createElement('td');\n      let bankName = document.createTextNode(element.bankname);\n      bank.appendChild(bankName);\n      tableTr.appendChild(bank);\n      let amount = document.createElement('td');\n      let amountNum = document.createTextNode(element.actualwithdrawalamt);\n      amount.appendChild(amountNum);\n      tableTr.appendChild(amount);\n      let name = document.createElement('td');\n      let nameValue = document.createTextNode(element.bankaccountname);\n      name.appendChild(nameValue);\n      tableTr.appendChild(name);\n      let withdraw = document.createElement('td');\n      let withdrawId = document.createTextNode(element.withdrawid);\n      withdraw.appendChild(withdrawId);\n      tableTr.appendChild(withdraw);\n      let trans = document.createElement('td');\n      let transId = document.createTextNode(element.approvereason);\n      trans.appendChild(transId);\n      tableTr.appendChild(trans);\n      let btn = document.createElement('td');\n      btn.innerHTML = '<button className=\"billPrinter\" data-id={\"withdrawid\":\"' + element.withdrawid + '\",\"playerId\":\"' + element.playerid + '\",\"bankAcc\":\"' + element.bankaccount + '\",\"bankName\":\"' + element.bankname + '\",\"ammount\":' + element.actualwithdrawalamt * 1000 + ',\"mess\":\"' + element.bankaccountname + '\",\"transId\":\"' + element.approvereason + '\"}>PRINT</button>';\n      tableTr.appendChild(btn);\n      let day = ['Chủ Nhật', 'Thứ Hai', 'Thứ Ba', 'Thứ Tư', 'Thứ Năm', 'Thứ Sáu', 'Thứ Bảy'];\n      let billPrnt = document.querySelectorAll('.billPrinter');\n      let billingContent = document.getElementsByClassName('bills-container')[0];\n      billPrnt.forEach(el => {\n        el.addEventListener('click', () => {\n          console.log('aaaaaaaa');\n          let jsonpars = JSON.parse(el.getAttribute('data-id'));\n          let decriptions = document.getElementsByClassName('decriptions')[0];\n          let tdRight = document.getElementsByClassName('td-right');\n          let time = new Date(jsonpars.created.seconds * 1000);\n          billingContent.style.opacity = '1';\n          billingContent.style.zIndex = '10';\n          decriptions.getElementsByTagName('h1')[0].textContent = jsonpars.ammount.toLocaleString();\n          decriptions.getElementsByTagName('p')[0].textContent = time.getHours() + ':' + time.getMinutes() + \" \" + day[time.getDay()] + \" \" + time.getDate() + \"/\" + (time.getMonth() + 1) + \"/\" + time.getFullYear();\n          tdRight[0].textContent = jsonpars.mess;\n          tdRight[1].textContent = jsonpars.bankAccount;\n          tdRight[2].textContent = jsonpars.bankName;\n          tdRight[3].textContent = jsonpars.transId;\n          tdRight[4].textContent = jsonpars.mess;\n        });\n      });\n    });\n  }).catch(error => console.log('error', error));\n};\nexport default getHistory;","map":{"version":3,"names":["getHistory","startTime","endTime","playerId","url","myHeaders","Headers","append","localStorage","getItem","requestOptions","method","headers","redirect","fetch","then","response","json","result","document","getElementsByClassName","innerHTML","data","forEach","element","console","log","dataTable","tableTr","createElement","appendChild","playerIdCont","createTextNode","playerid","bankAcc","bankAccNum","bankaccount","bank","bankName","bankname","amount","amountNum","actualwithdrawalamt","name","nameValue","bankaccountname","withdraw","withdrawId","withdrawid","trans","transId","approvereason","btn","day","billPrnt","querySelectorAll","billingContent","el","addEventListener","jsonpars","JSON","parse","getAttribute","decriptions","tdRight","time","Date","created","seconds","style","opacity","zIndex","getElementsByTagName","textContent","ammount","toLocaleString","getHours","getMinutes","getDay","getDate","getMonth","getFullYear","mess","bankAccount","catch","error"],"sources":["C:/Users/789bet/Desktop/toolxk/vcb/src/controllers/history.controller.js"],"sourcesContent":["const getHistory = (startTime, endTime, playerId)=>{\r\n    let url = []\r\n    let myHeaders = new Headers();\r\n    myHeaders.append(\"accept\", \" */*\");\r\n    myHeaders.append(\"accept-encoding\", \" gzip, deflate, br\");\r\n    myHeaders.append(\"authorization\", localStorage.getItem('token'));\r\n    myHeaders.append(\"origin\", \" https://bo.jun88.bet\");\r\n    myHeaders.append(\"referer\", \" https://bo.jun88.bet/\");\r\n    myHeaders.append(\"Cookie\", \"__cf_bm=eRN8pUNPav1TR9mYCn51uVAev2F2uFlVAz.7869Bo.k-1665682812-0-AZouNqKJFI125f1jlLoD4aT09ABUKzvjNDQa0JJDpyr9Rn7rmSa4oQvWG6kLxuRUj9neqrot9qSSAA1QSrJ6NIs=\");\r\n\r\n    let requestOptions = {\r\n    method: 'GET',\r\n    headers: myHeaders,\r\n    redirect: 'follow'\r\n    };\r\n\r\n    if(playerId==''){\r\n        url[0]='https://boapi.jun88.bet/jun88-ims/api/v1/withdrawals/search?&starttime='+startTime+'&endtime='+endTime+'&dl=false&exactmatch=true&limit=25&sort=DESC&sortcolumn=withdrawaltime&statusType=WITHDRAWAL_RECORD&timefilter=withdrawaltime&zoneType=ASIA_SHANGHAI&auditor=jun88996'\r\n    }\r\n\r\n    fetch(url[0], requestOptions)\r\n    .then(response => response.json())\r\n    .then(result=> {\r\n        document.getElementsByClassName('tableData')[0].innerHTML=''\r\n        result.data.forEach(element => {\r\n            console.log(element)\r\n            let dataTable = document.getElementsByClassName('tableData')[0]\r\n            let tableTr = document.createElement('tr')\r\n            dataTable.appendChild(tableTr)\r\n            let playerId = document.createElement('td')\r\n            let playerIdCont = document.createTextNode(element.playerid)\r\n            playerId.appendChild(playerIdCont)\r\n            tableTr.appendChild(playerId)\r\n    \r\n            let bankAcc = document.createElement('td')\r\n            let bankAccNum = document.createTextNode(element.bankaccount)\r\n            bankAcc.appendChild(bankAccNum)\r\n            tableTr.appendChild(bankAcc)\r\n    \r\n            let bank = document.createElement('td')\r\n            let bankName = document.createTextNode(element.bankname)\r\n            bank.appendChild(bankName)\r\n            tableTr.appendChild(bank)\r\n    \r\n            let amount = document.createElement('td')\r\n            let amountNum = document.createTextNode(element.actualwithdrawalamt)\r\n            amount.appendChild(amountNum)\r\n            tableTr.appendChild(amount)\r\n    \r\n            let name = document.createElement('td')\r\n            let nameValue = document.createTextNode(element.bankaccountname)\r\n            name.appendChild(nameValue)\r\n            tableTr.appendChild(name)\r\n    \r\n            let withdraw = document.createElement('td')\r\n            let withdrawId = document.createTextNode(element.withdrawid)\r\n            withdraw.appendChild(withdrawId)\r\n            tableTr.appendChild(withdraw)\r\n    \r\n            let trans = document.createElement('td')\r\n            let transId = document.createTextNode(element.approvereason)\r\n            trans.appendChild(transId)\r\n            tableTr.appendChild(trans)\r\n    \r\n            let btn = document.createElement('td')\r\n            btn.innerHTML = '<button className=\"billPrinter\" data-id={\"withdrawid\":\"'+element.withdrawid+'\",\"playerId\":\"'+element.playerid+'\",\"bankAcc\":\"'+element.bankaccount+'\",\"bankName\":\"'+element.bankname+'\",\"ammount\":'+element.actualwithdrawalamt*1000+',\"mess\":\"'+element.bankaccountname+'\",\"transId\":\"'+element.approvereason+'\"}>PRINT</button>'\r\n            tableTr.appendChild(btn)\r\n\r\n            let day = ['Chủ Nhật','Thứ Hai','Thứ Ba','Thứ Tư','Thứ Năm','Thứ Sáu','Thứ Bảy',]\r\n            let billPrnt = document.querySelectorAll('.billPrinter')\r\n            let billingContent = document.getElementsByClassName('bills-container')[0]\r\n            billPrnt.forEach((el)=>{\r\n              el.addEventListener('click',()=>{\r\n                console.log('aaaaaaaa')\r\n                let jsonpars = JSON.parse(el.getAttribute('data-id'))\r\n                let decriptions = document.getElementsByClassName('decriptions')[0]\r\n                let tdRight = document.getElementsByClassName('td-right')\r\n                let time = new Date(jsonpars.created.seconds*1000)\r\n                billingContent.style.opacity='1'\r\n                billingContent.style.zIndex='10'\r\n                decriptions.getElementsByTagName('h1')[0].textContent=jsonpars.ammount.toLocaleString()\r\n                decriptions.getElementsByTagName('p')[0].textContent=time.getHours()+':'+time.getMinutes()+\" \"+day[time.getDay()]+\" \"+time.getDate()+\"/\"+(time.getMonth()+1)+\"/\"+time.getFullYear()\r\n                tdRight[0].textContent=jsonpars.mess\r\n                tdRight[1].textContent=jsonpars.bankAccount\r\n                tdRight[2].textContent=jsonpars.bankName\r\n                tdRight[3].textContent=jsonpars.transId\r\n                tdRight[4].textContent=jsonpars.mess\r\n              })\r\n            })\r\n    \r\n        });\r\n    })\r\n    .catch(error => console.log('error', error));\r\n}\r\n\r\nexport default getHistory"],"mappings":"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"},"metadata":{},"sourceType":"module"}