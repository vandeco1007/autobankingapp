{"ast":null,"code":"const getHistory = (startTime, endTime, playerChoices, playerId) => {\n  let url = [];\n  let myHeaders = new Headers();\n  myHeaders.append(\"accept\", \" */*\");\n  myHeaders.append(\"accept-encoding\", \" gzip, deflate, br\");\n  myHeaders.append(\"authorization\", localStorage.getItem('token'));\n  myHeaders.append(\"origin\", \" https://bo.jun88.bet\");\n  myHeaders.append(\"referer\", \" https://bo.jun88.bet/\");\n  myHeaders.append(\"Cookie\", \"__cf_bm=eRN8pUNPav1TR9mYCn51uVAev2F2uFlVAz.7869Bo.k-1665682812-0-AZouNqKJFI125f1jlLoD4aT09ABUKzvjNDQa0JJDpyr9Rn7rmSa4oQvWG6kLxuRUj9neqrot9qSSAA1QSrJ6NIs=\");\n  let requestOptions = {\n    method: 'GET',\n    headers: myHeaders,\n    redirect: 'follow'\n  };\n  if (playerId == '') {\n    url[0] = 'https://boapi.jun88.bet/jun88-ims/api/v1/withdrawals/search?&starttime=' + startTime + '&endtime=' + endTime + '&dl=false&exactmatch=true&limit=25&sort=DESC&sortcolumn=withdrawaltime&statusType=WITHDRAWAL_RECORD&timefilter=withdrawaltime&zoneType=ASIA_SHANGHAI&auditor=junxnk010';\n  }\n  if (playerId != '') {\n    console.log(playerId);\n    if (playerChoices == 'playerId') {\n      url[0] = 'https://boapi.jun88.bet/jun88-ims/api/v1/withdrawals/search?dl=false&starttime=' + startTime + '&endtime=' + endTime + '&exactmatch=true&language=4&limit=25&offset=0&sequence=0&sort=DESC&sortcolumn=withdrawaltime&statusType=WITHDRAWAL_RECORD&timefilter=audittime&zoneType=ASIA_SHANGHAI&playerid=' + playerId;\n    } else {\n      url[0] = 'https://boapi.jun88.bet/jun88-ims/api/v1/withdrawals/search?dl=false&starttime=' + startTime + '&endtime=' + endTime + '&exactmatch=true&language=4&limit=25&offset=0&sequence=0&sort=DESC&sortcolumn=withdrawaltime&statusType=WITHDRAWAL_RECORD&timefilter=audittime&zoneType=ASIA_SHANGHAI&withdrawid=' + playerId;\n    }\n  }\n  console.log(url[0]);\n  console.log(playerChoices);\n  fetch(url[0], requestOptions).then(response => response.json()).then(result => {\n    let formContainer = document.getElementsByClassName('history-form-container')[0];\n    // if(result.element)\n    console.log(result.total);\n    for (let i = 0; i < Math.ceil(result.total / 25); i++) {\n      console.log(i);\n    }\n    document.getElementsByClassName('tableData')[0].innerHTML = '';\n    result.data.forEach(element => {\n      // console.log(element)\n      let dataTable = document.getElementsByClassName('tableData')[0];\n      let tableTr = document.createElement('tr');\n      dataTable.appendChild(tableTr);\n      let playerId = document.createElement('td');\n      let playerIdCont = document.createTextNode(element.playerid);\n      playerId.appendChild(playerIdCont);\n      tableTr.appendChild(playerId);\n      let bankAcc = document.createElement('td');\n      let bankAccNum = document.createTextNode(element.bankaccount.toLocaleString().slice(0, 2) + '******' + element.bankaccount.toLocaleString().slice(-2));\n      bankAcc.appendChild(bankAccNum);\n      tableTr.appendChild(bankAcc);\n      let bank = document.createElement('td');\n      let bankName = document.createTextNode(element.bankname);\n      bank.appendChild(bankName);\n      tableTr.appendChild(bank);\n      let amount = document.createElement('td');\n      let amountNum = document.createTextNode(element.actualwithdrawalamt);\n      amount.appendChild(amountNum);\n      tableTr.appendChild(amount);\n      let name = document.createElement('td');\n      let nameValue = document.createTextNode(element.bankaccountname);\n      name.appendChild(nameValue);\n      tableTr.appendChild(name);\n      let withdraw = document.createElement('td');\n      let withdrawId = document.createTextNode(element.withdrawid);\n      withdraw.appendChild(withdrawId);\n      tableTr.appendChild(withdraw);\n      let trans = document.createElement('td');\n      let transId = document.createTextNode(element.approvereason);\n      trans.appendChild(transId);\n      tableTr.appendChild(trans);\n      let btnContainer = document.createElement('td');\n      let btn = document.createElement('button');\n      let btnNode = document.createTextNode('Print');\n      btn.appendChild(btnNode);\n      btnContainer.appendChild(btn);\n      btn.setAttribute('class', 'billPrinter');\n      btn.setAttribute('data-id', '{\"time\":' + element.audittime + ',\"withdrawid\":\"' + element.withdrawid + '\",\"playerId\":\"' + element.playerid + '\",\"bankAcc\":\"' + element.bankaccount + '\",\"bankName\":\"' + element.bankname + '\",\"ammount\":' + element.actualwithdrawalamt * 1000 + ',\"mess\":\"' + element.bankaccountname + '\",\"transId\":\"' + element.approvereason + '\"}');\n      tableTr.appendChild(btnContainer);\n    });\n  }).catch(error => console.log('error', error));\n};\nexport default getHistory;","map":{"version":3,"names":["getHistory","startTime","endTime","playerChoices","playerId","url","myHeaders","Headers","append","localStorage","getItem","requestOptions","method","headers","redirect","console","log","fetch","then","response","json","result","formContainer","document","getElementsByClassName","total","i","Math","ceil","innerHTML","data","forEach","element","dataTable","tableTr","createElement","appendChild","playerIdCont","createTextNode","playerid","bankAcc","bankAccNum","bankaccount","toLocaleString","slice","bank","bankName","bankname","amount","amountNum","actualwithdrawalamt","name","nameValue","bankaccountname","withdraw","withdrawId","withdrawid","trans","transId","approvereason","btnContainer","btn","btnNode","setAttribute","audittime","catch","error"],"sources":["C:/Users/789bet/Desktop/toolxk/vcb/src/controllers/history.controller.js"],"sourcesContent":["const getHistory = (startTime, endTime, playerChoices, playerId)=>{\r\n    let url = []\r\n    let myHeaders = new Headers();\r\n    myHeaders.append(\"accept\", \" */*\");\r\n    myHeaders.append(\"accept-encoding\", \" gzip, deflate, br\");\r\n    myHeaders.append(\"authorization\", localStorage.getItem('token'));\r\n    myHeaders.append(\"origin\", \" https://bo.jun88.bet\");\r\n    myHeaders.append(\"referer\", \" https://bo.jun88.bet/\");\r\n    myHeaders.append(\"Cookie\", \"__cf_bm=eRN8pUNPav1TR9mYCn51uVAev2F2uFlVAz.7869Bo.k-1665682812-0-AZouNqKJFI125f1jlLoD4aT09ABUKzvjNDQa0JJDpyr9Rn7rmSa4oQvWG6kLxuRUj9neqrot9qSSAA1QSrJ6NIs=\");\r\n\r\n    let requestOptions = {\r\n    method: 'GET',\r\n    headers: myHeaders,\r\n    redirect: 'follow'\r\n    };\r\n\r\n    if(playerId==''){\r\n      url[0]='https://boapi.jun88.bet/jun88-ims/api/v1/withdrawals/search?&starttime='+startTime+'&endtime='+endTime+'&dl=false&exactmatch=true&limit=25&sort=DESC&sortcolumn=withdrawaltime&statusType=WITHDRAWAL_RECORD&timefilter=withdrawaltime&zoneType=ASIA_SHANGHAI&auditor=junxnk010'\r\n    }\r\n    \r\n    if(playerId!=''){\r\n      console.log(playerId)\r\n      if(playerChoices=='playerId'){\r\n        url[0]='https://boapi.jun88.bet/jun88-ims/api/v1/withdrawals/search?dl=false&starttime='+startTime+'&endtime='+endTime+'&exactmatch=true&language=4&limit=25&offset=0&sequence=0&sort=DESC&sortcolumn=withdrawaltime&statusType=WITHDRAWAL_RECORD&timefilter=audittime&zoneType=ASIA_SHANGHAI&playerid='+playerId\r\n      }else{\r\n        url[0]='https://boapi.jun88.bet/jun88-ims/api/v1/withdrawals/search?dl=false&starttime='+startTime+'&endtime='+endTime+'&exactmatch=true&language=4&limit=25&offset=0&sequence=0&sort=DESC&sortcolumn=withdrawaltime&statusType=WITHDRAWAL_RECORD&timefilter=audittime&zoneType=ASIA_SHANGHAI&withdrawid='+playerId\r\n      }\r\n    }\r\n\r\n    console.log(url[0])\r\n    console.log(playerChoices)\r\n\r\n    fetch(url[0], requestOptions)\r\n    .then(response => response.json())\r\n    .then(result=> {\r\n        let formContainer = document.getElementsByClassName('history-form-container')[0]\r\n        // if(result.element)\r\n        console.log(result.total)\r\n        for(let i=0;i<Math.ceil(result.total/25);i++){\r\n          console.log(i)\r\n        }\r\n        document.getElementsByClassName('tableData')[0].innerHTML=''\r\n        result.data.forEach(element => {\r\n            // console.log(element)\r\n            let dataTable = document.getElementsByClassName('tableData')[0]\r\n            let tableTr = document.createElement('tr')\r\n            dataTable.appendChild(tableTr)\r\n            let playerId = document.createElement('td')\r\n            let playerIdCont = document.createTextNode(element.playerid)\r\n            playerId.appendChild(playerIdCont)\r\n            tableTr.appendChild(playerId)\r\n    \r\n            let bankAcc = document.createElement('td')\r\n            let bankAccNum = document.createTextNode(element.bankaccount.toLocaleString().slice(0,2)+'******'+element.bankaccount.toLocaleString().slice(-2))\r\n            bankAcc.appendChild(bankAccNum)\r\n            tableTr.appendChild(bankAcc)\r\n    \r\n            let bank = document.createElement('td')\r\n            let bankName = document.createTextNode(element.bankname)\r\n            bank.appendChild(bankName)\r\n            tableTr.appendChild(bank)\r\n    \r\n            let amount = document.createElement('td')\r\n            let amountNum = document.createTextNode(element.actualwithdrawalamt)\r\n            amount.appendChild(amountNum)\r\n            tableTr.appendChild(amount)\r\n    \r\n            let name = document.createElement('td')\r\n            let nameValue = document.createTextNode(element.bankaccountname)\r\n            name.appendChild(nameValue)\r\n            tableTr.appendChild(name)\r\n    \r\n            let withdraw = document.createElement('td')\r\n            let withdrawId = document.createTextNode(element.withdrawid)\r\n            withdraw.appendChild(withdrawId)\r\n            tableTr.appendChild(withdraw)\r\n    \r\n            let trans = document.createElement('td')\r\n            let transId = document.createTextNode(element.approvereason)\r\n            trans.appendChild(transId)\r\n            tableTr.appendChild(trans)\r\n\r\n            let btnContainer = document.createElement('td')\r\n            let btn = document.createElement('button')\r\n            let btnNode = document.createTextNode('Print')\r\n            btn.appendChild(btnNode)\r\n            btnContainer.appendChild(btn)\r\n            btn.setAttribute('class','billPrinter')\r\n            btn.setAttribute('data-id','{\"time\":'+element.audittime+',\"withdrawid\":\"'+element.withdrawid+'\",\"playerId\":\"'+element.playerid+'\",\"bankAcc\":\"'+element.bankaccount+'\",\"bankName\":\"'+element.bankname+'\",\"ammount\":'+element.actualwithdrawalamt*1000+',\"mess\":\"'+element.bankaccountname+'\",\"transId\":\"'+element.approvereason+'\"}')\r\n            tableTr.appendChild(btnContainer)\r\n\r\n    \r\n        });\r\n    })\r\n    .catch(error => console.log('error', error));\r\n}\r\n\r\nexport default getHistory"],"mappings":"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"},"metadata":{},"sourceType":"module"}